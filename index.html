<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Softonic Labs</title>

<link rel="manifest" href="./manifest.json?v=4"/>
<script src="https://cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js" async></script>
<script>
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var Pushwoosh = Pushwoosh || [];
			Pushwoosh.push(["init", {
			logLevel: 'error', // possible values: error, info, debug
			applicationCode: 'BA548-DB194',
			safariWebsitePushID: 'web.com.example.domain',
			defaultNotificationTitle: 'Pushwoosh',
			defaultNotificationImage: 'https://cp.pushwoosh.com/img/logo-medium.png',
			autoSubscribe: true,
			userId: 'user_id',
			tags: {
  			'Name': 'John Smith',
  			'program' : "Google Chrome",
  			'category' : getParameterByName('category')
			}
		}]);
</script>
</head>
<body>
<h1>SoftonicLabs Push Test</h1>
<p>Welcome to this awesome place, where you can receive amazing push notifications for free!</p>


<!--a href="#" onclick="sendCustomEvent();">Push to trigger an custom event event</a-->

<script>
	function subscribe() {
		Pushwoosh.push(function(api) {
      console.log(1);
	  		// Post an Event
	  		api.postEvent('Just Subscribed', {});
		});
	}

	function sendCustomEvent() {
		Pushwoosh.push(function(api) {
			api.postEvent('Custom Event', {});
		});
	}

	Pushwoosh.push(['onSubscribe', function(api) {
    		subscribe();
  		}]);



</script>
</body>
</html>
